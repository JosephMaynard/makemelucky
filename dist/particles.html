<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Particles</title>
	<style>
		body{
			margin: 0;
			padding: 0;
			background: #222;
		}
		#wrapper{
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		#container{
			width: 100%;
			max-width: 640px;
			margin: 0 auto;
			height: 960px;
			position: relative;
			-webkit-perspective: 400;
			-webkit-perspective-origin-x: 50%;
			-webkit-perspective-origin-y: 50%;
		}
		.particle{
			width: 32px;
			height: 32px;
			background: url(img/luckyStar.png) no-repeat;
			background-size: 100% 100%;
			position: absolute;
			top: 49%;
			left: 49%;
			display: none;
		}
	</style>
</head>
<body>
<div id="wrapper">
	<div id="container">
<div class="particle" id="p1"></div><div class="particle" id="p2"></div><div class="particle" id="p3"></div><div class="particle" id="p4"></div><div class="particle" id="p5"></div><div class="particle" id="p6"></div><div class="particle" id="p7"></div><div class="particle" id="p8"></div><div class="particle" id="p9"></div><div class="particle" id="p10"></div><div class="particle" id="p11"></div><div class="particle" id="p12"></div><div class="particle" id="p13"></div><div class="particle" id="p14"></div><div class="particle" id="p15"></div><div class="particle" id="p16"></div><div class="particle" id="p17"></div><div class="particle" id="p18"></div><div class="particle" id="p19"></div><div class="particle" id="p20"></div><div class="particle" id="p21"></div><div class="particle" id="p22"></div><div class="particle" id="p23"></div><div class="particle" id="p24"></div><div class="particle" id="p25"></div><div class="particle" id="p26"></div><div class="particle" id="p27"></div><div class="particle" id="p28"></div><div class="particle" id="p29"></div><div class="particle" id="p30"></div><div class="particle" id="p31"></div><div class="particle" id="p32"></div><div class="particle" id="p33"></div><div class="particle" id="p34"></div><div class="particle" id="p35"></div><div class="particle" id="p36"></div><div class="particle" id="p37"></div><div class="particle" id="p38"></div><div class="particle" id="p39"></div><div class="particle" id="p40"></div><div class="particle" id="p41"></div><div class="particle" id="p42"></div><div class="particle" id="p43"></div><div class="particle" id="p44"></div><div class="particle" id="p45"></div><div class="particle" id="p46"></div><div class="particle" id="p47"></div><div class="particle" id="p48"></div><div class="particle" id="p49"></div><div class="particle" id="p50"></div><div class="particle" id="p51"></div><div class="particle" id="p52"></div><div class="particle" id="p53"></div><div class="particle" id="p54"></div><div class="particle" id="p55"></div><div class="particle" id="p56"></div><div class="particle" id="p57"></div><div class="particle" id="p58"></div><div class="particle" id="p59"></div><div class="particle" id="p60"></div><div class="particle" id="p61"></div><div class="particle" id="p62"></div><div class="particle" id="p63"></div><div class="particle" id="p64"></div>
		<div class="particle" id="p65"></div>
		<div class="particle" id="p66"></div>
		<div class="particle" id="p67"></div>
		<div class="particle" id="p68"></div>
		<div class="particle" id="p69"></div>
		<div class="particle" id="p70"></div>
		<div class="particle" id="p71"></div>
		<div class="particle" id="p72"></div>
		<div class="particle" id="p73"></div>
		<div class="particle" id="p74"></div>
		<div class="particle" id="p75"></div>
		<div class="particle" id="p76"></div>
		<div class="particle" id="p77"></div>
		<div class="particle" id="p78"></div>
		<div class="particle" id="p79"></div>
		<div class="particle" id="p80"></div>
		<div class="particle" id="p81"></div>
		<div class="particle" id="p82"></div>
		<div class="particle" id="p83"></div>
		<div class="particle" id="p84"></div>
		<div class="particle" id="p85"></div>
		<div class="particle" id="p86"></div>
		<div class="particle" id="p87"></div>
		<div class="particle" id="p88"></div>
		<div class="particle" id="p89"></div>
		<div class="particle" id="p90"></div>
		<div class="particle" id="p91"></div>
		<div class="particle" id="p92"></div>
		<div class="particle" id="p93"></div>
		<div class="particle" id="p94"></div>
		<div class="particle" id="p95"></div>
		<div class="particle" id="p96"></div>
		<div class="particle" id="p97"></div>
		<div class="particle" id="p98"></div>
		<div class="particle" id="p99"></div>
		<div class="particle" id="p100"></div>
		<div class="particle" id="p101"></div>
		<div class="particle" id="p102"></div>
		<div class="particle" id="p103"></div>
		<div class="particle" id="p104"></div>
		<div class="particle" id="p105"></div>
		<div class="particle" id="p106"></div>
		<div class="particle" id="p107"></div>
		<div class="particle" id="p108"></div>
		<div class="particle" id="p109"></div>
		<div class="particle" id="p110"></div>
		<div class="particle" id="p111"></div>
		<div class="particle" id="p112"></div>
		<div class="particle" id="p113"></div>
		<div class="particle" id="p114"></div>
		<div class="particle" id="p115"></div>
		<div class="particle" id="p116"></div>
		<div class="particle" id="p117"></div>
		<div class="particle" id="p118"></div>
		<div class="particle" id="p119"></div>
		<div class="particle" id="p120"></div>
		<div class="particle" id="p121"></div>
		<div class="particle" id="p122"></div>
		<div class="particle" id="p123"></div>
		<div class="particle" id="p124"></div>
		<div class="particle" id="p125"></div>
		<div class="particle" id="p126"></div>
		<div class="particle" id="p127"></div>
		<div class="particle" id="p128"></div>
	</div>
</div>
	<script src="jquery.min.js"></script>
	<script src="jquery.velocity.min.js"></script>
	<script>
	function randomPos(distance){
		return ((Math.random() - 0.5) * 2) * distance;
	}
	function randomUp(distance){
		return 0 - (Math.random() * distance);
	}

	function randomTime(baseTime){
		return Math.round(Math.random() * baseTime);
	}
	function explosion(){
		for (var i = 1; i < 65; i++) {		
			$('#p' + i).velocity({translateX:randomPos(600), translateY: randomPos(600), translateZ:randomPos(150), scaleX: 0.5, scaleY: 0.5, opacity:1}, { duration: randomTime(1200), easing: 'easeOutQuint', display:'block', delay: randomTime(100) });
			$('#p' + i).velocity({translateX: '+=' + randomPos(300), translateY: '+=' + randomUp(400), translateZ: '+=' + randomPos(100), scaleX: 0.2, scaleY: 0.2}, { duration: randomTime(800), easing: 'easeInOutCirc' });
			$('#p' + i).velocity({translateX:'+=' + randomPos(100), translateY: '+=' + randomUp(200), translateZ: '+=' + randomPos(50), scaleX: 0, scaleY: 0, opacity:0}, { duration: randomTime(400), easing: 'easeInQuart' });
			$('#p' + i).velocity({translateX:0, translateY: 0, translateZ:0, scaleX: 1, scaleY: 1, opacity:0}, { duration: 0, display: 'none' });
		};
	}

	document.getElementsByTagName('body')[0].onclick = function(){
		explosion();
	}

	</script>
</body>
</html>