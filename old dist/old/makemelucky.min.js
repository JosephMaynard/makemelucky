/*! makemelucky 25-02-2015 */
function awardLuckyCharm(a){var b=new Date;luckyVariables.luckStore.charms.push({title:a.title,description:a.description,x:a.x,y:a.y,date:b.toISOString()}),appendCharm(luckyVariables.luckStore.charms[luckyVariables.luckStore.charms.length-1]),luckyVariables.charmAwarded=!0,console.log(a),fireEvent("Charm Awarded",a.title)}function appendCharm(a){var b=new Date(Date.parse(a.date)),c="undefined";c=b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes(),$("#luckyCharmsContainer").append('<div class="charm"><div class="charmIcon" style="background-position:'+a.x+"% "+a.y+'%"></div><p><span>'+a.title+"</span><br/>"+a.description+"<br/><i>Awarded: "+b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()+" - "+b.getHours()+":"+c+"</i></p></div>")}function createCharmsArrays(){luckyVariables.pressesArray=[];for(var a in luckyCharms.presses)luckyCharms.presses[a].amount>luckyVariables.luckStore.luckyness&&luckyVariables.pressesArray.push(luckyCharms.presses[a].amount)}function testLocalStorage(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}function createLuckStore(){luckyVariables.luckStore={luckyness:0,visits:1,longestPress:0,daysInRow:0,version:this.ver,charms:[],specialCharms:{},firstUse:(new Date).toISOString()},storeTheLuck()}function storeTheLuck(){if(luckyVariables.localStorageAvailable){var a=JSON.stringify(luckyVariables.luckStore);localStorage.setItem("luckStore",a)}}function clamps(){$("#clamps").removeClass(),$("#clamps").addClass("clampsOpening"),setTimeout(function(){$("#clamps").removeClass("clampsOpening"),"closed"==clampsStatus?($("#clamps").addClass("clampsOpen"),clampsStatus="open"):($("#clamps").addClass("clampsClosed"),clampsStatus="closed")},50)}function spinningRim(){clamps(),$(".effects").show(),setTimeout(function(){$("#rimSpinning").velocity({rotateZ:"7200deg"},{display:"block",duration:5e3,complete:function(){$("#rimSpinning").velocity({rotateZ:"0deg"},{display:"none",duration:0}),setTimeout(function(){clamps()},500),setTimeout(function(){$("#midOverlay, #glowClosed").velocity({opacity:1},{display:"block",duration:200}),$("#midOverlay, #glowClosed").velocity({opacity:0},{display:"none",delay:300,duration:1e3,complete:function(){$(".effects").hide(),setTimeout(animationComplete,500)}})},600)}}),$(".cog").velocity({rotateZ:"-14400deg"},{duration:5e3,complete:function(){$(".cog").velocity({rotateZ:"0deg"},{duration:0})}}),setTimeout(function(){$("#topOverlay, #spark1").velocity({opacity:1},{display:"block",duration:50}),$("#topOverlay, #spark1").velocity({opacity:0},{display:"none",duration:500})},1e3),setTimeout(function(){$("#topOverlay, #spark2").velocity({opacity:1},{display:"block",duration:50}),$("#topOverlay, #spark2").velocity({opacity:0},{display:"none",duration:500})},2e3),setTimeout(function(){$("#topOverlay, #spark3").velocity({opacity:1},{display:"block",duration:50}),$("#topOverlay, #spark3").velocity({opacity:0},{display:"none",duration:500})},3e3),setTimeout(function(){$("#topOverlay, #spark4").velocity({opacity:1},{display:"block",duration:50}),$("#topOverlay, #spark4").velocity({opacity:0},{display:"none",duration:500})},4e3)},100)}function luckySymbol(){$(".effects").show(),$("#glowClosed").velocity({opacity:1},{display:"block",duration:100}),$("#glowClosed").velocity({opacity:0},{display:"none",duration:500}),$("#topOverlay").velocity({opacity:1},{display:"block",duration:500}),$("#topOverlay").velocity({opacity:0},{display:"none",duration:500,delay:500}),$("#luckySymbol").velocity({opacity:1,translateZ:[0,-5e3]},{display:"block",duration:1e3,easing:"ease-out",begin:function(){particles.shootingStars(200)}}),$("#luckySymbol").velocity({opacity:0,translateZ:2e3},{display:"none",duration:500,easing:"ease-in",complete:function(){$(".effects").hide(),setTimeout(animationComplete,500)}})}function openRim(){clamps(),setTimeout(function(){$("#rimOpen").show(),$("#rim").hide(),$("#rimTop").velocity({top:"-18%"},{duration:2e3}),$("#rimRight").velocity({right:"-18%"},{duration:2e3}),$("#rimBottom").velocity({bottom:"-18%"},{duration:2e3}),$("#rimLeft").velocity({left:"-18%"},{duration:2e3}),$(".cog").velocity({rotateZ:"360deg"},{duration:2e3})},100)}function closeRim(){$("#rimTop").velocity({top:"0%"},{duration:2e3}),$("#rimRight").velocity({right:"0%"},{duration:2e3}),$("#rimBottom").velocity({bottom:"0%"},{duration:2e3}),$("#rimLeft").velocity({left:"0%"},{duration:2e3}),$(".cog").velocity({rotateZ:"0deg"},{duration:2e3,complete:function(){clamps(),$("#rim").show(),$("#rimOpen").hide()}})}function rimLight(){$(".effects").show(),$("#rimLight").velocity({opacity:1,rotateZ:"180deg"},{display:"block",duration:500,easing:"linear"}),$("#rimLight").velocity({rotateZ:"900deg"},{duration:2e3,easing:"linear",begin:function(){outerLightSpin(45,3)},complete:function(){$("#midOverlay, #glowClosed, .outerLight").velocity({opacity:1},{display:"block",delay:250,duration:300}),$("#midOverlay, #glowClosed, .outerLight").velocity({opacity:0},{display:"none",duration:600,complete:function(){$(".effects").hide(),setTimeout(animationComplete,500)}})}}),$("#rimLight").velocity({opacity:0,rotateZ:"1080deg"},{display:"none",duration:500,easing:"linear"}),$("#rimLight").velocity({rotateZ:"0deg"},{duration:1})}function buttonFall(){openRim(),$(".effects").show(),$("#button").velocity({scaleX:.001,scaleY:.001},{duration:3500,easing:"easeInQuart",complete:function(){$("#cloudLight").velocity({opacity:1},{display:"block",duration:50}),$("#cloudLight").velocity({opacity:0},{display:"none",delay:500,duration:450})}}),$("#clouds").velocity({opacity:1},{display:"block",duration:1500}),$("#button").velocity({scaleX:1,scaleY:1},{duration:1500,easing:"easeOutElastic",delay:1e3,begin:function(){setTimeout(particles.explosion,200)},complete:function(){closeRim(),$("#clouds").velocity({opacity:0},{display:"none",duration:2500,complete:function(){$(".effects").hide(),setTimeout(animationComplete,500)}})}})}function cloudsTunnelOpen(){openRim(),$("#button").velocity({scaleX:.3,scaleY:.3},{duration:4e3,delay:1e3,easing:"easeInQuart",begin:function(){$("#magicSwirl3, #magicSwirl4").velocity({opacity:[1,0],scaleX:[1,.5],scaleY:[1,.5]},{display:"block",delay:1e3,duration:700})},complete:function(){$("#magicSwirl3, #magicSwirl4").velocity({opacity:0,scaleX:.5,scaleY:.5},{display:"none",delay:500,duration:1e3}),particles.shootingStars(500)}}),$("#cloudsTunnel").velocity({opacity:1,rotateZ:90},{display:"block",duration:4e3,easing:"linear"}),$("#cloudsTunnel").velocity({rotateZ:180},{display:"block",duration:4e3,easing:"linear"}),$("#cloudsTunnel").velocity({opacity:0,rotateZ:270},{display:"none",duration:4e3,easing:"linear"}),$("#cloudsTunnel").velocity({rotateZ:0},{display:"none",duration:10}),$("#button").velocity({scaleX:1,scaleY:1,rotateX:"0deg"},{duration:1e3,delay:1e3,easing:"easeInQuart",complete:function(){$(".effects").show(),$("#midOverlay, #glowOpen").velocity({opacity:1},{display:"block",duration:300}),$("#midOverlay, #glowOpen").velocity({opacity:0},{display:"none",delay:500,duration:600,complete:function(){$(".effects").hide(),closeRim(),setTimeout(animationComplete,2e3)}})}})}function powerStreams(){$("#whiteOverlay").velocity({opacity:1},{display:"block",duration:100}),$("#whiteOverlay").velocity({opacity:0},{display:"none",duration:100}),$(".effects, #effectsButton, #powerStream1, #powerStream2, #powerStream3, #powerStream4").velocity({opacity:1},{display:"block",duration:100}),$("#rimGlow, #midOverlay, #magicSwirl1, #magicSwirl2").velocity({opacity:1},{display:"block",duration:200}),setTimeout(function(){openRim(),$("#powerStream1, #powerStream2, #powerStream3, #powerStream4").velocity({opacity:0},{display:"none",duration:300}),$("#powerRing1").velocity({scaleX:[3,.5],scaleY:[3,.5],opacity:[1,0],rotateZ:[particles.randomPos(50),particles.randomPos(50)]},{display:"block",duration:600,easing:"easeInSine",delay:1600,begin:function(){$("#glowOpen").velocity({opacity:1},{display:"block",duration:200,easing:"easeOutCubic"}),$("#glowOpen").velocity({opacity:0},{display:"none",duration:200,easing:"easeOutCubic"})}}),$("#powerRing1").velocity({scaleX:8,scaleY:8,opacity:0},{display:"none",duration:300,easing:"easeOutSine"}),$("#powerRing2").velocity({scaleX:[3,.5],scaleY:[3,.5],opacity:[1,0],rotateZ:[particles.randomPos(50),particles.randomPos(50)]},{display:"block",duration:600,easing:"easeInSine",delay:2e3,begin:function(){$("#glowOpen").velocity({opacity:1},{display:"block",duration:200,easing:"easeOutCubic"}),$("#glowOpen").velocity({opacity:0},{display:"none",duration:200,easing:"easeOutCubic"})}}),$("#powerRing2").velocity({scaleX:8,scaleY:8,opacity:0},{display:"none",duration:300,easing:"easeOutSine"}),$("#powerRing3").velocity({scaleX:[3,.5],scaleY:[3,.5],opacity:[1,0],rotateZ:[particles.randomPos(50),particles.randomPos(50)]},{display:"block",duration:600,easing:"easeInSine",delay:2400,begin:function(){$("#glowOpen").velocity({opacity:1},{display:"block",duration:200,easing:"easeOutCubic"}),$("#glowOpen").velocity({opacity:0},{display:"none",duration:200,easing:"easeOutCubic"})}}),$("#powerRing3").velocity({scaleX:8,scaleY:8,opacity:0},{display:"none",duration:300,easing:"easeOutSine"}),$("#rimGlow, #midOverlay, #magicSwirl1, #magicSwirl2").velocity({opacity:0},{display:"none",delay:1e3,duration:2e3,complete:function(){$(".effects, #effectsButton").hide(),closeRim(),setTimeout(animationComplete,2e3)}})},2e3)}function outerLightSpin(a,b){olLoops=b,$("#ol"+olCount).velocity({opacity:1},{display:"block",duration:100}),$("#ol"+olCount).velocity({opacity:0},{display:"none",duration:500}),olCount++,13==olCount&&1==olLoops?olCount=1:13==olCount?(olCount=1,olLoops--,setTimeout(function(){outerLightSpin(a,olLoops)},a)):setTimeout(function(){outerLightSpin(a,olLoops)},a)}function animationComplete(){luckyVariables.buttonReady=!0,luckyVariables.buttonReleased=!1,fireEvent("Animation Complete","Animation Complete"),screenText.textQueue(1==luckyVariables.luckyPresses?["You are now","LUCKY!","Press again","for more luck"]:luckyVariables.luckyPresses<4?["You are now",screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],"LUCKY!","Press again","for more luck"]:luckyVariables.luckyPresses<8?["You are now",screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],"LUCKY!","Press again","for more luck"]:["You are now",screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],screenText.adverbs[Math.floor(Math.random()*screenText.adverbs.length)],"LUCKY!","Press again","for more luck"])}function shuffle(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function fireEvent(a,b){try{ga("send","event",a,b)}catch(c){console.log("Fire Event Error: "+c+"\nCategory: "+a+"\nAction: "+b)}}function resizeWindow(){$("#mainArea").height(window.innerHeight)}function hideLoadingScreen(){window.scrollTo(0,0),$("#loadingSpinner").velocity({opacity:0,scaleX:3,scaleY:3},{display:"none",duration:1e3,easing:"easeInCubic"}),$("#loading").velocity({opacity:0},{display:"none",duration:1e3,easing:"easeInCubic"})}function preLoadImages(a,b,c){"undefined"==typeof b&&(b=function(){console.log("All images loaded.")}),"undefined"==typeof c&&(c="");for(var d=[],e=0,f=0;f<a.length;f++)d[f]=new Image,d[f].onload=function(){e++,e==a.length&&b()},d[f].src=c+a[f]}function pageLoaded(){"file:"!=window.location.protocol&&$("#facebookLike").html('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmakemelucky.com&amp;send=false&amp;layout=box_count&amp;width=55&amp;show_faces=true&amp;font&amp;colorscheme=light&amp;action=like&amp;height=65&amp;appId=423609547672506" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:55px; height:65px;" allowTransparency="true"></iframe>'),createCharmsArrays(),resizeWindow(),screenText.textQueue([screenText.welcome,screenText.needLuck,screenText.press]),fireEvent("Page Loaded","Visits: "+luckyVariables.luckStore.visits),hideLoadingScreen()}var luckyCharms={presses:{beginnersLuck:{title:"Beginner's luck!",description:"Press the Make Me Lucky button for the first time.",id:"beginnersLuck",x:"0",y:"0",amount:1},magicNumber:{title:"The Magic Number!",description:"Press the Make Me Lucky button 3 times.",id:"magicNumber",x:"7",y:"0",amount:3},luckySeven:{title:"Lucky 7!",description:"Press the Make Me Lucky button 7 times.",id:"luckySeven",x:"14",y:"0",amount:7},suddenFortune:{title:"Sudden Fortune and Prosperity!",description:"Press the Make Me Lucky button 8 times.",id:"suddenFortune",x:"21",y:"0",amount:8},luckyLongTime:{title:"Lucky Long Time!",description:"Press the Make Me Lucky button 9 times.",id:"luckyLongTime",x:"28",y:"0",amount:9},unluckyorSome:{title:"Unlucky for some, but not for you!",description:"Press the Make Me Lucky button 13 times.",id:"unluckyorSome",x:"35",y:"0",amount:13},sweetLuck:{title:"Super Sweet Luck!",description:"Press the Make Me Lucky button 16 times.",id:"sweetLuck",x:"42",y:"0",amount:13},luckyUniverse:{title:"Luck of the Universe and Everything!",description:"Press the Make Me Lucky button 42 times.",id:"luckyUniverse",x:"48",y:"0",amount:42},halfCentury:{title:"Half Century of Luck!",description:"Press the Make Me Lucky button 50 times.",id:"halfCentury",x:"55",y:"0",amount:50},hotLuck:{title:"Hot Luck!",description:"Press the Make Me Lucky button 69 times.",id:"hotLuck",x:"62",y:"0",amount:69},wealthyx2:{title:"Wealthy Wealthy!",description:"Two times the prosperity, press the Make Me Lucky button 88 tiimes.",id:"wealthyx2",x:"69",y:"0",amount:88},eternalLuck:{title:"Eternal Luckyness!",description:"Press the Make Me Lucky button 99 times.",id:"eternalLuck",x:"76",y:"0",amount:99},century:{title:"Century of Luck!",description:"Press the Make Me Lucky button 100 times.",id:"century",x:"83",y:"0",amount:100},maximumBreak:{title:"Maximum Break Luck!",description:"Press the Make Me Lucky button 147 times.",id:"maximumBreak",x:"90",y:"0",amount:147},fortuneAllTheWay:{title:"Great Fortune all the Way!",description:"Press the Make Me Lucky button 168 times.",id:"fortuneAllTheWay",x:"100",y:"0",amount:168},bargainLuck:{title:"Bargain Luckyness!",description:"Press the Make Me Lucky button 241 times.",id:"bargainLuck",x:"0",y:"7",amount:241},beastlyLuck:{title:"Beastly Luck!",description:"Press the Make Me Lucky button Six Hundred and Sixty Six times.",id:"beastlyLuck",x:"7",y:"7",amount:666},greatFortuneAllTheWay:{title:"Great Fortune all the Way!",description:"Press the Make Me Lucky button 768 times.",id:"greatFortuneAllTheWay",x:"14",y:"7",amount:768},wealthyx3:{title:"Wealthy Wealthy Wealthy!",description:"Three times the prosperity, press the Make Me Lucky button 888 tiimes.",id:"wealthyx3",x:"21",y:"7",amount:888},millennium:{title:"The Millennium!",description:"Press the Make Me Lucky button One Thousand times.",id:"millennium",x:"28",y:7,amount:1e3}},visits:{backForMore:{title:"Back for More Luck!",description:"Return to Make Me Lucky.",id:"backForMore",x:"0",y:"69",amount:2},crowd:{title:"Crowded Luck!",description:"Visit Make Me Lucky 3 times.",id:"crowd",x:"7",y:"69",amount:3},crowd:{title:"Crowded Luck!",description:"Visit Make Me Lucky 3 times.",id:"crowd",x:"14",y:"69",amount:3}},daysInRow:{week:{title:"The Week of Luck!!",description:"Visit Make Me Lucky every day for a week.",id:"week",x:"0",y:"83",amount:7}},social:{facebook:{title:"Share the Luck!",description:"Like Make Me Lucky on Facebook.",id:"facebook",x:"0",y:"100"},twitter:{title:"Tweets of Luck!",description:"A little bird told us you Tweeded Make Me Lucky.",id:"twitter",x:"7",y:"100"},pinterest:{title:"Lucky Pins!",description:"Pin Make Me Lucky on Pinterest.",id:"pinterest",x:"14",y:"100"},whatsapp:{title:"Whats Luck?",description:"Share Make Me Lucky on WhatsApp.",id:"whatsapp",x:"21",y:"100"},reddit:{title:"Alien Luck!",description:"Submit or upvote Make Me Lucky on Reddit.",id:"reddit",x:"28",y:"100"},email:{title:"Post Some Luck!",description:"Email some luck with Make Me Lucky.",id:"email",x:"35",y:"100"},googleplus:{title:"Elusive Luck Plus!",description:"Share Make Me Lucky on Google Plus (we didn't think anyone would ever that!).",id:"email",x:"42",y:"100"}}},luckyVariables={ver:.33,luckyPresses:0,currentTime:new Date,localStorageAvailable:testLocalStorage(),buttonReady:!0,buttonReleased:!1,android:navigator.userAgent.match(/Android/i),luckStore:{luckyness:0,visits:1,longestPress:0,daysInRow:0,version:this.ver,charms:[],specialCharms:{},firstUse:(new Date).toISOString()},charmAwarded:!1};if(luckyVariables.localStorageAvailable)if(window.localStorage.getItem("luckStore"))if(luckyVariables.luckStore=JSON.parse(localStorage.getItem("luckStore")),luckyVariables.luckStore.version<.33)localStorage.clear(),createLuckStore();else{if(luckyVariables.firstUse=new Date(Date.parse(luckyVariables.luckStore.firstUse)),luckyVariables.currentTime-luckyVariables.firstUse>36e5){luckyVariables.luckStore.visits=luckyVariables.luckStore.visits+1;for(var x in luckyCharms.visits)luckyCharms.visits[x].amount==luckyVariables.luckStore.visits&&(console.log("You have earned the "+luckyCharms.visits[x].title+" Lucky Charm!"),awardLuckyCharm(luckyCharms.visits[x]))}if(luckyVariables.luckStore.version!=luckyVariables.ver&&(luckyVariables.luckStore.version=luckyVariables.ver),luckyVariables.luckStore.charms.length>0)for(var i=0;i<luckyVariables.luckStore.charms.length;i++)appendCharm(luckyVariables.luckStore.charms[i]);storeTheLuck()}else createLuckStore();else $("#luckyCharms").hide();var screenText={};screenText.adverbs=["abnormally","amazingly","astonishingly","awfully","brilliantly","eminently","enormously","exceedingly","exceptionally","extra","extremely","extraordinary","fabulously","fantastically","highly","incredibly","inordinately","mega","marvelously","monumentally","outstandingly","outrageously","prodigiously","remarkably","startlingly","strikingly","super","triumphantly","tremendously","uncommonly","wonderfully"],screenText.welcome="Welcome",screenText.welcomeBack="Welcome Back",screenText.needLuck="Need a bit of luck?",screenText.needMoreLuck="Need a bit more luck?",screenText.press="Press the button",screenText.urNow="You are now ",screenText.setInterval=null,screenText.textQueue=function(a){screenText.setInterval&&clearInterval(screenText.setInterval);var b=0;luckyVariables.charmAwarded?(luckyVariables.charmAwarded=!1,$("#screenText").html('<span></span><p class="charmAwarded">LUCKY CHARM!</p>'),particles.awardStars(),setTimeout(function(){$("#screenText").html(""),$("#screenText").html("<span></span><p>"+a[0]+"</p>"),a.length>1&&(screenText.setInterval=setInterval(function(){nextText()},1500))},1e3)):($("#screenText").html("<span></span><p>"+a[0]+"</p>"),a.length>1&&(screenText.setInterval=setInterval(function(){nextText()},1500))),nextText=function(){$("#screenText").html(""),b++,$("#screenText").html("<span></span><p>"+a[b%a.length]+"</p>")}},screenText.giveAdverb=function(){return this.adverbs[Math.floor(Math.random()*this.adverbs.length)]};var particles={generated:{},innit:function(a,b,c,d){if("undefined"==typeof this.generated[a]){this.generated[a]=[];for(var e=0;d>e;e++)this.generated[a][e]=document.createElement("div"),this.generated[a][e].className=b,document.getElementById(c).appendChild(this.generated[a][e])}else console.error("There is already a particle array with this name.")},randomPos:function(a){return Math.round(2*(Math.random()-.5)*a)},randomUp:function(a){return 0-Math.round(Math.random()*a)},randomTime:function(a){return Math.round(Math.random()*a)},RandomDistance:function(a){return Math.round(.75*Math.random()*a)+Math.round(2.5*a)},explosion:function(){for(var a=(($(window).width()-$("#luckyButtonContainer").width())/2+($(window).height()-$("#luckyButtonContainer").height())/2)/2,b=0;b<particles.generated.particles.length;b++)$(particles.generated.particles[b]).velocity({translateX:particles.randomPos(a),translateY:particles.randomPos(a),translateZ:particles.randomPos(150),scaleX:.5,scaleY:.5,opacity:1},{duration:particles.randomTime(1e3)+500,easing:"easeOutQuint",display:"block",delay:particles.randomTime(100)}),$(particles.generated.particles[b]).velocity({translateX:"+="+particles.randomPos(a/2),translateY:"+="+particles.randomUp(a/2),translateZ:"+="+particles.randomPos(100),scaleX:.2,scaleY:.2},{duration:particles.randomTime(800),easing:"easeInOutCirc"}),$(particles.generated.particles[b]).velocity({translateX:"+="+particles.randomPos(a/4),translateY:"+="+particles.randomUp(a/4),translateZ:"+="+particles.randomPos(50),scaleX:0,scaleY:0,opacity:0},{duration:particles.randomTime(400),easing:"easeInQuart"}),$(particles.generated.particles[b]).velocity({translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,opacity:0},{duration:0,display:"none"})},shootingStars:function(a){$(".effects").show();for(var b=a/particles.generated.shootingStars.length*2,c=(($(window).width()-$("#luckyButtonContainer").width())/2+($(window).height()-$("#luckyButtonContainer").height())/2)/12,d=0;d<particles.generated.shootingStars.length;d++){var e=particles.randomPos(180);$(particles.generated.shootingStars[d]).velocity({rotateZ:[e,e],translateY:-particles.RandomDistance(c),scaleX:[1,.1],scaleY:[1,.1],opacity:[1,0]},{duration:500,display:"block",delay:d*b+particles.randomTime(b),easing:"easeInQuart"}),$(particles.generated.shootingStars[d]).velocity({translateY:"+="+-particles.RandomDistance(c),scaleX:1.5,scaleY:1.5,opacity:0},{duration:500,display:"none",easing:"easeOutQuart"}),$(particles.generated.shootingStars[d]).velocity({rotateZ:0,translateY:0,scaleX:.1,scaleY:.1,opacity:0},{duration:0,display:"none"})}},starSpiral:function(a){$(".effects").show();for(var b=a/particles.generated.shootingStars.length,c=Math.ceil(360/particles.generated.shootingStars.length),d=(($(window).width()-$("#luckyButtonContainer").width())/2+($(window).height()-$("#luckyButtonContainer").height())/2)/4,e=0;e<particles.generated.shootingStars.length;e++)$(particles.generated.shootingStars[e]).velocity({rotateZ:[e*c,e*c],translateY:.25*-d,scaleX:[1,.1],scaleY:[1,.1],opacity:[1,0]},{duration:500,display:"block",delay:e*b,easing:"easeInQuart"}),$(particles.generated.shootingStars[e]).velocity({translateY:"+="+.75*-d,scaleX:1.5,scaleY:1.5,opacity:0},{duration:500,display:"none",easing:"easeOutQuart"}),$(particles.generated.shootingStars[e]).velocity({rotateZ:0,translateY:0,scaleX:.1,scaleY:.1,opacity:0},{duration:0,display:"none"})},awardStars:function(){for(var a=$(window).width(),b=0;b<particles.generated.awardCharmStars.length;b++)$(particles.generated.awardCharmStars[b]).velocity({translateX:[particles.randomPos(a),0],translateY:[particles.randomPos(a),0],scaleX:[.4,.04],scaleY:[.4,.04],opacity:[0,1]},{duration:1e3,display:"block",easing:"easeOutQuart"}),$(particles.generated.awardCharmStars[b]).velocity({translateX:0,translateY:0,scaleX:.1,scaleY:.1,opacity:1},{duration:0,display:"none"})}};particles.innit("particles","particle","particles",32),particles.innit("shootingStars","shootingStar","shootingStars",24),particles.innit("awardCharmStars","particle","screen",16);var clampsStatus="closed",olCount=1,olLoops=1,luckyEffects=["powerStreams","spinningRim","buttonFall","cloudsTunnelOpen","luckySymbol","rimLight"];shuffle(luckyEffects),$("#button").replaceWith(luckyVariables.android?'<div id="button"></div>':'<div id="button"><div id="glint"><div id="glintLine"></div></div></div>'),$("#button").on("touchstart, mousedown",function(a){return fireEvent("Button Pressed","Presses: "+(luckyVariables.luckyPresses+1)),fireEvent("Total Presses","Total Presses: "+(luckyVariables.luckStore.luckyness+1)),a.preventDefault(),luckyVariables.buttonReady&&(luckyVariables.buttonReady=!1,$("#glint").velocity({opacity:0},{duration:100,display:"none"}),$("#button").velocity({scaleX:.98,scaleY:.98},{duration:100}),clearInterval(screenText.setInterval),$("#screenText").addClass("screenTextOut"),setTimeout(function(){$("#screenText").html(""),$("#screenText").removeClass("screenTextOut")},300)),!1}),$("#button").on("contextmenu","*",function(){return!1}),$("#button").on("touchend, touchcancel, touchleave, mouseup",function(a){return a.preventDefault(),luckyVariables.buttonReleased||(luckyVariables.buttonReleased=!0,$("#glint").show(),$("#button").velocity({scaleX:1,scaleY:1},{duration:100,complete:function(){if(window[luckyEffects[luckyVariables.luckyPresses%luckyEffects.length]](),fireEvent("Effect Started",luckyEffects[luckyVariables.luckyPresses%luckyEffects.length]),luckyVariables.luckyPresses++,luckyVariables.luckStore.luckyness++,-1!=luckyVariables.pressesArray.indexOf(luckyVariables.luckStore.luckyness)){console.log("You earned a Luck Charm");for(var a in luckyCharms.presses)luckyCharms.presses[a].amount==luckyVariables.luckStore.luckyness&&awardLuckyCharm(luckyCharms.presses[a])}storeTheLuck()}})),!1}),$(".socialMediaLink").click(function(a){a.preventDefault(),"Facebook"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.facebook?"Twitter"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.twitter?"Pinterest"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.pinterest?"WhatsApp"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.whatsapp?"GooglePlus"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.googleplus?"Email"!=$(this).attr("id")||luckyVariables.luckStore.specialCharms.email||(luckyVariables.luckStore.specialCharms.email=!0,awardLuckyCharm(luckyCharms.social.email),storeTheLuck()):(luckyVariables.luckStore.specialCharms.googleplus=!0,awardLuckyCharm(luckyCharms.social.googleplus),storeTheLuck()):(luckyVariables.luckStore.specialCharms.whatsapp=!0,awardLuckyCharm(luckyCharms.social.whatsapp),storeTheLuck()):(luckyVariables.luckStore.specialCharms.pinterest=!0,awardLuckyCharm(luckyCharms.social.pinterest),storeTheLuck()):(luckyVariables.luckStore.specialCharms.twitter=!0,awardLuckyCharm(luckyCharms.social.twitter),storeTheLuck()):(luckyVariables.luckStore.specialCharms.facebook=!0,awardLuckyCharm(luckyCharms.social.facebook),storeTheLuck());var b=$(this).attr("href");fireEvent("Social Media Button",$(this).attr("id")),"file:"!=window.location.protocol?setTimeout(function(){window.location.assign(b)},300):console.log("Go to: "+b)}),$("#pageDown").click(function(){$("#topBar").velocity("scroll",{duration:1300,easing:"easeOutBounce",offset:0-$("#adStrip").height()}),fireEvent("Page Down Button Click","Page Down Button Click")}),resizeWindow(),$(window).resize(function(){resizeWindow()});var imageList=["loading_ring_back.png","loading_ring_front.png","clouds.png","rim_top.png","rim_right.png","rim_bottom.png","rim_left.png","lucky_symbol.png","rim_light.png","cloud_tunnel.png","outer_light.png","power_stream.png","rim_glow.png","magic_swirl.png","screen.png","luckyStar.png","shootingStar.png","downButton.png","vignette.png","leather_texture.jpg","outer_rim.png","clamps.png","cog.png","spacer.png","rim.png","button.png","rim_spinning.png","glow_closed.png","glow_open.png","button_glowing.png","spark1.png","spark2.png","spark3.png","spark4.png","social_media_icons.png","power_ring.png"];preLoadImages(imageList,pageLoaded,"img/");